name = "brg-content-engine"
main = "src/index.js"
compatibility_date = "2024-01-01"

[vars]
ENVIRONMENT = "development"
CLOUDINARY_CLOUD_NAME = "dxzw1zwez"

# KV Namespace for tokens and cache
[[kv_namespaces]]
binding = "TOKENS"
id = "0a96048b95784352bd0f57ece5f6d8e5"

[env.production]
vars = { ENVIRONMENT = "production" }

# Note: Cron trigger removed due to account limit (5 max)
# Reviews can be synced manually via POST /api/reviews/sync
# Or set up external cron (e.g., cron-job.org) to hit the endpoint

# ============================================================
# SECRETS - Add with: wrangler secret put <SECRET_NAME>
# ============================================================

# Jobber OAuth (for pulling job completion data)
# wrangler secret put JOBBER_CLIENT_ID
# wrangler secret put JOBBER_CLIENT_SECRET

# Cloudinary (for photo uploads)
# wrangler secret put CLOUDINARY_API_KEY
# wrangler secret put CLOUDINARY_API_SECRET

# Google Business Profile (for posting updates and fetching reviews)
# wrangler secret put GOOGLE_CLIENT_ID
# wrangler secret put GOOGLE_CLIENT_SECRET

# GitHub (for committing project pages to trigger deploy)
# wrangler secret put GITHUB_TOKEN
# Token needs repo scope for mrmicaiah/bluerivergutters
