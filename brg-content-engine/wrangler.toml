name = "brg-content-engine"
main = "src/index.js"
compatibility_date = "2024-01-01"

[vars]
ENVIRONMENT = "development"
CLOUDINARY_CLOUD_NAME = "dxzw1zwez"

# KV Namespace for tokens and cache
[[kv_namespaces]]
binding = "TOKENS"
id = "brg-content-tokens"

[env.production]
vars = { ENVIRONMENT = "production" }

# Cron trigger for daily review sync (8am Central = 14:00 UTC)
[triggers]
crons = ["0 14 * * *"]

# ============================================================
# SECRETS - Add with: wrangler secret put <SECRET_NAME>
# ============================================================

# Jobber OAuth (for pulling job completion data)
# wrangler secret put JOBBER_CLIENT_ID
# wrangler secret put JOBBER_CLIENT_SECRET

# Cloudinary (for photo uploads)
# wrangler secret put CLOUDINARY_API_KEY
# wrangler secret put CLOUDINARY_API_SECRET

# Google Business Profile (for posting updates and fetching reviews)
# wrangler secret put GOOGLE_CLIENT_ID
# wrangler secret put GOOGLE_CLIENT_SECRET

# GitHub (for committing project pages to trigger deploy)
# wrangler secret put GITHUB_TOKEN
# Token needs repo scope for mrmicaiah/bluerivergutters
